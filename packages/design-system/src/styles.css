@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css");

@config "../tailwind.config.js";
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/*
 @theme 을 디자인 토큰을 Tailwind에 직접 주입
모든 디자인 데이터의 단일 진실 원천 
빌드 타임에 이 값들이 Tailwind 클래스로 변환되어 런타임에 적용됨
*/
@theme {
  /* Design System Colors */
  --color-ds-background: #fefefe; /* neutral/50 */
  --color-ds-foreground: #1e2022; /* neutral/800 */
  --color-ds-card: #ffffff;
  --color-ds-popover: #ffffff;

  --color-ds-primary: #0172fe; /* blue/500 */
  --color-ds-primary-hover: #0167e5; /* blue/600 */
  --color-ds-primary-active: #014498; /* blue/700 */
  --color-ds-primary-foreground: #ffffff;

  --color-ds-secondary: #fbfcfd; /* neutral/100 */
  --color-ds-secondary-hover: #f7f8f9; /* neutral/200 */
  --color-ds-secondary-foreground: #1e2022;

  --color-ds-muted: #f7f8f9; /* neutral/200 */
  --color-ds-muted-foreground: #53585c; /* neutral/600 */

  --color-ds-accent: #a670eb; /* purple/500 */
  --color-ds-accent-foreground: #ffffff;

  --color-ds-destructive: #f83b68; /* pink/500 */
  --color-ds-destructive-hover: #fe5b7e; /* pink/400 */
  --color-ds-destructive-foreground: #ffffff;

  --color-ds-border: #e9ebee; /* neutral/300 */
  --color-ds-input: #e9ebee;
  --color-ds-ring: #4d9cfe; /* blue/400 */

  --radius-ds: 0.5rem;

  /* 피그마 디자인 토큰 컬러 스케일 blue */
  --color-ds-blue-50: #f2f8ff;
  --color-ds-blue-100: #e6f1ff;
  --color-ds-blue-200: #c0dcff;
  --color-ds-blue-300: #99c7ff;
  --color-ds-blue-400: #4d9cfe;
  --color-ds-blue-500: #0172fe;
  --color-ds-blue-600: #0167e5;
  --color-ds-blue-700: #014498;
  --color-ds-blue-800: #00224c;
  --color-ds-blue-900: #000033;

  /* 피그마 디자인 토큰 컬러 스케일 neutral */
  --neutral-50: #fefefe;
  --neutral-100: #fbfcfd;
  --neutral-200: #f7f8f9;
  --neutral-300: #e9ebee;
  --neutral-400: #c5c8ce;
  --neutral-500: #7d8084;
  --neutral-600: #53585c;
  --neutral-700: #3d4044;
  --neutral-800: #1e2022;
  --neutral-900: #141515;
}

/**
@layer base - CSS 변수 매핑
토큰을 런타임 CSS 변수로 변환하여 모든 컴포넌트에서 사용 가능

:root - 모든 컴포넌트에서 사용 가능한 전역 범위
위에서 정의한 디자인 토큰을 런타임 CSS 변수로 변환하여 모든 컴포넌트에서 사용 가능

@theme {
  --color-ds-primary: #0172fe;  원시 토큰 (불변)
}

@layer base {
  :root {
    --ds-primary: var(--color-ds-primary); 런타임 변수, --ds-primary 라는 변수값으로 디자인 토큰의 값을 할당
  }
  
  .dark {
    --ds-primary: #4d9cfe;  다크모드에서 오버라이드
  }
}
*/
@layer base {
  :root {
    /* 기존 디자인 시스템 변수 유지 */
    --ds-background: var(--color-ds-background);
    --ds-foreground: var(--color-ds-foreground);
    --ds-card: var(--color-ds-card);
    --ds-popover: var(--color-ds-popover);

    --ds-primary: var(--color-ds-primary);
    --ds-primary-hover: var(--color-ds-primary-hover);
    --ds-primary-active: var(--color-ds-primary-active);
    --ds-primary-foreground: var(--color-ds-primary-foreground);

    --ds-secondary: var(--color-ds-secondary);
    --ds-secondary-hover: var(--color-ds-secondary-hover);
    --ds-secondary-foreground: var(--color-ds-secondary-foreground);

    --ds-muted: var(--color-ds-muted);
    --ds-muted-foreground: var(--color-ds-muted-foreground);

    --ds-accent: var(--color-ds-accent);
    --ds-accent-foreground: var(--color-ds-accent-foreground);

    --ds-destructive: var(--color-ds-destructive);
    --ds-destructive-hover: var(--color-ds-destructive-hover);
    --ds-destructive-foreground: var(--color-ds-destructive-foreground);

    --ds-border: var(--color-ds-border);
    --ds-input: var(--color-ds-input);
    --ds-ring: var(--color-ds-ring);

    --ds-radius: var(--radius-ds);

    /* Shadcn UI 호환성을 위한 변수 매핑 */
    --background: var(--color-ds-background);
    --foreground: var(--color-ds-foreground);
    --card: var(--color-ds-card);
    --card-foreground: var(--color-ds-foreground);
    --popover: var(--color-ds-popover);
    --popover-foreground: var(--color-ds-foreground);
    --primary: var(--color-ds-primary);
    --primary-foreground: var(--color-ds-primary-foreground);
    --secondary: var(--color-ds-secondary);
    --secondary-foreground: var(--color-ds-secondary-foreground);
    --muted: var(--color-ds-muted);
    --muted-foreground: var(--color-ds-muted-foreground);
    --accent: var(--color-ds-accent);
    --accent-foreground: var(--color-ds-accent-foreground);
    --destructive: var(--color-ds-destructive);
    --destructive-foreground: var(--color-ds-destructive-foreground);
    --border: var(--color-ds-border);
    --input: var(--color-ds-input);
    --ring: var(--color-ds-ring);
    --radius: var(--radius-ds);

    /* 피그마 디자인 토큰 */
    --neutral-50: var(--neutral-50);
    --neutral-900: var(--neutral-900);

    /* 피그마 디자인 토큰 컬러 시맨틱 Light */
    --color-semantic-material-button-brand-default: var(--color-ds-blue-500);
    --color-semantic-material-button-brand-hover: var(--color-ds-blue-600);
    --color-semantic-material-button-brand-focus: var(--color-ds-blue-700);
    --color-semantic-material-button-brand-disable: oklch(0.97 0.01 180 / 0.3);
  }

  .dark {
    /* 기존 디자인 시스템 다크모드 변수 유지 */
    --ds-background: #1e2022;
    --ds-foreground: #ffffff;
    --ds-card: #1e2022;
    --ds-popover: #1e2022;

    --ds-primary: #0172fe;
    --ds-primary-hover: #4d9cfe; /* lighter on dark */
    --ds-primary-active: #0167e5;
    --ds-primary-foreground: #ffffff;

    --ds-secondary: #3d4044; /* neutral/700 */
    --ds-secondary-hover: #53585c; /* neutral/600 */
    --ds-secondary-foreground: #ffffff;

    --ds-muted: #2e3236;
    --ds-muted-foreground: #b3bac2;

    --ds-accent: #977aec; /* purple/400 */
    --ds-accent-foreground: #ffffff;

    --ds-destructive: #f83b68;
    --ds-destructive-hover: #fe5b7e;
    --ds-destructive-foreground: #ffffff;

    --ds-border: #3d4044;
    --ds-input: #3d4044;
    --ds-ring: #4d9cfe; /* blue/400 */

    /* Shadcn UI 호환성을 위한 다크모드 변수 매핑 */
    --background: #1e2022;
    --foreground: #ffffff;
    --card: #1e2022;
    --card-foreground: #ffffff;
    --popover: #1e2022;
    --popover-foreground: #ffffff;
    --primary: #0172fe;
    --primary-foreground: #ffffff;
    --secondary: #3d4044;
    --secondary-foreground: #ffffff;
    --muted: #2e3236;
    --muted-foreground: #b3bac2;
    --accent: #977aec;
    --accent-foreground: #ffffff;
    --destructive: #f83b68;
    --destructive-foreground: #ffffff;
    --border: #3d4044;
    --input: #3d4044;
    --ring: #4d9cfe;

    /* 피그마 디자인 토큰 컬러 시맨틱 Dark */
    --color-semantic-material-button-brand-default: var(--color-ds-blue-400);
    --color-semantic-material-button-brand-hover: var(--color-ds-blue-500);
    --color-semantic-material-button-brand-focus: var(--color-ds-blue-600);
    --color-semantic-material-button-brand-disable: oklch(
      0.3121 0.0226 248.56 / 0.3
    );
  }

  /* Shadcn UI 필수 기본 스타일 */
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}
